import{a as tt,c as it,e as rt}from"./chunk-C4QY7PVW.js";import{Ia as ot,k as W,la as et,oa as nt,p as Z}from"./chunk-WRLF2H3U.js";import{$c as q,Ba as A,Fb as Q,Ga as m,Ia as l,Ka as B,Kb as G,La as L,Ma as $,Mb as U,Na as O,Nc as Y,Oa as S,Pa as u,Qa as d,Ra as w,Rd as X,Sa as x,Ta as C,Va as v,Wd as J,Ya as p,Z as h,Za as a,bb as N,ca as y,cb as H,db as K,ea as R,eb as g,fb as f,ha as c,hb as b,ia as _,na as T,oc as V,pa as D,qb as I,sb as j,ub as E,vb as P,xa as s,yb as M,za as F}from"./chunk-JOLOG3TI.js";var z=class{constructor(r){this.internalDirectiveInstance=r}get $implicit(){return this.internalDirectiveInstance.tuiLet}get tuiLet(){return this.internalDirectiveInstance.tuiLet}},st=(()=>{class e{constructor(){h(A).createEmbeddedView(h(F),new z(this))}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=R({type:e,selectors:[["","tuiLet",""]],inputs:{tuiLet:"tuiLet"},standalone:!0})}}return e})();var ct=["element"],_t=e=>({$implicit:e});function ut(e,r){if(e&1&&(x(0),f(1),C()),e&2){let t=r.polymorpheusOutlet;s(),b(" ",t," ")}}function dt(e,r){if(e&1){let t=v();u(0,"button",10,2),p("click",function(){c(t);let i=a().tuiLet,o=a(4);return _(o.onElementClick(i))})("keydown.arrowLeft.prevent",function(){c(t);let i=g(1),o=a(5);return _(o.onElementKeyDownArrowLeft(i))})("keydown.arrowRight.prevent",function(){c(t);let i=g(1),o=a(5);return _(o.onElementKeyDownArrowRight(i))}),m(2,ut,2,1,"ng-container",11),d()}if(e&2){let t=a().tuiLet,n=a(4);l("appearance",n.getElementMode(t))("disabled",n.disabled)("size",n.buttonSize)("tabIndex",n.elementIsFocusable(t)?0:-1),s(2),l("polymorpheusOutlet",n.content||t+1)("polymorpheusOutletContext",j(6,_t,t))}}function mt(e,r){if(e&1&&(x(0),m(1,dt,3,8,"button",9),C()),e&2){let t=r.tuiLet;a(4);let n=g(5);s(),l("ngIf",t!==null)("ngIfElse",n)}}function pt(e,r){if(e&1&&(x(0),m(1,mt,2,2,"ng-container",8),C()),e&2){let t=r.$implicit,n=a(3);s(),l("tuiLet",n.getItemIndexByElementIndex(t))}}function gt(e,r){if(e&1){let t=v();x(0),u(1,"button",6),p("click",function(){c(t);let i=a(2);return _(i.onArrowClick("left"))})("mousedown.silent.prevent",function(){return c(t),_(0)}),f(2),d(),m(3,pt,2,1,"ng-container",7),u(4,"button",6),p("click",function(){c(t);let i=a(2);return _(i.onArrowClick("right"))})("mousedown.silent.prevent",function(){return c(t),_(0)}),f(5),d(),C()}if(e&2){let t=r.ngIf,n=a(2);s(),l("disabled",n.arrowIsDisabledLeft)("iconStart",n.icons.decrement)("size",n.buttonSize),s(),b(" ",t[0]," "),s(),l("tuiRepeatTimesOf",n.elementsLength),s(),l("disabled",n.arrowIsDisabledRight)("iconStart",n.icons.increment)("size",n.buttonSize),s(),b(" ",t[1]," ")}}function ft(e,r){if(e&1&&(x(0),m(1,gt,6,9,"ng-container",5),E(2,"async"),C()),e&2){let t=a();s(),l("ngIf",P(2,1,t.texts$))}}function ht(e,r){if(e&1){let t=v();u(0,"button",13,2),p("click",function(){let i=c(t).$implicit,o=a(2);return _(o.onElementClick(i))})("keydown.arrowLeft.prevent",function(){c(t);let i=g(1),o=a(2);return _(o.onElementKeyDownArrowLeft(i))})("keydown.arrowRight.prevent",function(){c(t);let i=g(1),o=a(2);return _(o.onElementKeyDownArrowRight(i))}),f(2),d()}if(e&2){let t=r.$implicit,n=a(2);l("appearance",n.getElementMode(t))("disabled",n.disabled)("tabIndex",n.elementIsFocusable(t)?0:-1),s(2),b(" ",t+1," ")}}function xt(e,r){if(e&1&&m(0,ht,3,4,"button",12),e&2){let t=a();l("tuiRepeatTimesOf",t.length)}}function Ct(e,r){if(e&1&&w(0,"div",14),e&2){let t=a();B("t-dots_small",t.size==="m")}}var vt=1,wt=1,lt=(()=>{class e{constructor(){this.els=q,this.el=Y(),this.texts$=h(et),this.icons=h(X),this.length=1,this.focusable=!0,this.size="l",this.disabled=!1,this.activePadding=1,this.sidePadding=1,this.index=0,this.indexChange=new T}get nativeFocusableElement(){if(this.disabled)return null;let t=0,{elementsLength:n}=this;for(let i=0;i<n;i++){let o=this.getItemIndexByElementIndex(i);if(o&&t++,o===this.index)break}return this.els.find((i,o)=>o===t)?.nativeElement??null}get focused(){return Z(this.el)}get arrowIsDisabledLeft(){return this.index===0}get arrowIsDisabledRight(){return this.reverseIndex===0}get elementsLength(){return this.itemsFit?this.length:this.maxElementsLength}get buttonSize(){return this.size==="m"?"xs":"s"}elementIsFocusable(t){return this.index===t&&!this.focused}getItemIndexByElementIndex(t){if(this.size==="s"||t<this.sidePadding)return t;if(t===this.sidePadding&&this.hasCollapsedItems(this.index))return null;let n=this.lastElementIndex-t;if(n===this.sidePadding&&this.hasCollapsedItems(this.reverseIndex))return null;if(n<this.sidePadding)return this.lastIndex-n;let i=this.index-this.maxHalfLength+t;return V(i,t,this.lastIndex-n)}getElementMode(t){let n=this.size==="s"?"secondary":"flat";return this.index===t?"primary":n}onElementClick(t){this.updateIndex(t)}onElementKeyDownArrowLeft(t){if(t===this.els.first.nativeElement)return;this.els.find((i,o,k)=>k[o+1]?.nativeElement===t)?.nativeElement.focus()}onElementKeyDownArrowRight(t){if(t===this.els.last.nativeElement)return;this.els.find((i,o,k)=>k[o-1]?.nativeElement===t)?.nativeElement.focus()}onArrowClick(t){this.tryChangeTo(t),this.focusActive()}get reverseIndex(){return this.lastIndex-this.index}get maxHalfLength(){return this.sidePadding+vt+this.activePadding}get itemsFit(){return this.length<=this.maxElementsLength}get maxElementsLength(){return this.maxHalfLength*2+wt}get lastIndex(){return this.length-1}get lastElementIndex(){return this.elementsLength-1}hasCollapsedItems(t){return!this.itemsFit&&t>this.maxHalfLength}tryChangeTo(t){this.updateIndex(V(this.index+(t==="right"?1:-1),0,this.lastIndex))}focusActive(){let{nativeFocusableElement:t}=this;t&&t.focus()}updateIndex(t){this.index!==t&&(this.index=t,this.indexChange.emit(t))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=y({type:e,selectors:[["tui-pagination"]],viewQuery:function(n,i){if(n&1&&N(ct,5,D),n&2){let o;H(o=K())&&(i.els=o)}},inputs:{length:"length",focusable:"focusable",size:"size",disabled:"disabled",activePadding:"activePadding",sidePadding:"sidePadding",content:"content",index:"index"},outputs:{indexChange:"indexChange"},standalone:!0,features:[I],decls:6,vars:2,consts:[["smallButtons",""],["dotsTemplate",""],["element",""],[1,"t-content"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["appearance","flat","tabIndex","-1","tuiIconButton","","type","button",1,"t-button",3,"click","mousedown.silent.prevent","disabled","iconStart","size"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],[4,"tuiLet"],["automation-id","tui-pagination__element","tuiButton","","type","button","class","t-button",3,"appearance","disabled","size","tabIndex","click","keydown.arrowLeft.prevent","keydown.arrowRight.prevent",4,"ngIf","ngIfElse"],["automation-id","tui-pagination__element","tuiButton","","type","button",1,"t-button",3,"click","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","appearance","disabled","size","tabIndex"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiButton","","type","button","class","t-button t-button_small",3,"appearance","disabled","tabIndex","click","keydown.arrowLeft.prevent","keydown.arrowRight.prevent",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["tuiButton","","type","button",1,"t-button","t-button_small",3,"click","keydown.arrowLeft.prevent","keydown.arrowRight.prevent","appearance","disabled","tabIndex"],["automation-id","tui-pagination__element",1,"t-dots"]],template:function(n,i){if(n&1&&(u(0,"div",3),m(1,ft,3,3,"ng-container",4)(2,xt,1,1,"ng-template",null,0,M)(4,Ct,1,2,"ng-template",null,1,M),d()),n&2){let o=g(3);s(),l("ngIf",i.size!=="s")("ngIfElse",o)}},dependencies:[G,Q,W,J,st,tt],styles:['[_nghost-%COMP%]{display:block;font:var(--tui-font-text-s);color:var(--tui-text-primary);text-align:center}.t-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.t-button[_ngcontent-%COMP%]{inline-size:var(--tui-height-s);margin:0 .125rem;flex-shrink:0}.t-button[_ngcontent-%COMP%]:first-child{margin-inline-start:0}.t-button[_ngcontent-%COMP%]:last-child{margin-inline-end:0}.t-button[data-size=xs][_ngcontent-%COMP%]{inline-size:var(--tui-height-xs)}.t-button.t-button.t-button_small[_ngcontent-%COMP%]{inline-size:.5rem;block-size:.5rem;font-size:0;padding:0;margin:0}.t-button.t-button.t-button_small[_ngcontent-%COMP%]:not(:first-child){margin-left:.5rem}.t-dots[_ngcontent-%COMP%]{inline-size:var(--tui-height-s);block-size:var(--tui-height-s);line-height:var(--tui-height-s);margin:0 .125rem;flex-shrink:0;color:var(--tui-text-action);text-align:center;cursor:default}.t-dots_small[_ngcontent-%COMP%]{inline-size:var(--tui-height-xs);block-size:var(--tui-height-xs);line-height:var(--tui-height-xs)}.t-dots[_ngcontent-%COMP%]:before{content:"\\2026"}'],changeDetection:0})}}return e})();var bt=(e,r)=>r.id;function yt(e,r){e&1&&(u(0,"div",2),w(1,"div",3)(2,"div",4),d()),e&2&&(s(),l("tuiSkeleton",!0))}function Tt(e,r){e&1&&(u(0,"div",0),O(1,yt,3,1,"div",2,$),E(3,"tuiRepeatTimes"),d()),e&2&&(s(),S(P(3,0,20)))}function It(e,r){if(e&1&&w(0,"app-film-card",5),e&2){let t=r.$implicit;l("data",t)}}function Et(e,r){if(e&1){let t=v();u(0,"tui-pagination",7),p("indexChange",function(i){c(t);let o=a(2);return _(o.onPageChanged(i))}),d()}if(e&2){let t=a(2);l("index",t.index)("length",t.totalPages)}}function Pt(e,r){if(e&1&&(u(0,"div",0),O(1,It,1,1,"app-film-card",5,bt),d(),m(3,Et,1,2,"tui-pagination",6)),e&2){let t=a();s(),S(t.films),s(2),L(t.totalPages>1?3:-1)}}function kt(e,r){e&1&&(u(0,"div",1)(1,"span",8),f(2,"\u041F\u043E\u043A\u0430 \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435\u0442"),d()())}var le=(()=>{class e{films=[];totalPages=0;isLoading=!1;pageChanged=new T;index=0;onPageChanged(t){this.index=t,this.pageChanged.emit(t+1)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=y({type:e,selectors:[["app-film-cards"]],inputs:{films:"films",totalPages:"totalPages",isLoading:"isLoading"},outputs:{pageChanged:"pageChanged"},standalone:!0,features:[I],decls:3,vars:1,consts:[[1,"film-list-wrapper"],[1,"empty-block"],[1,"film-card"],[1,"skeleton-card",3,"tuiSkeleton"],["tuiSkeleton","This text will be replaced by a skeleton",1,"skeleton-title"],[1,"film-card",3,"data"],[1,"tui-space_top-4",3,"index","length"],[1,"tui-space_top-4",3,"indexChange","index","length"],[1,"tui-text_h4"]],template:function(n,i){n&1&&m(0,Tt,4,2,"div",0)(1,Pt,4,1)(2,kt,3,0,"div",1),n&2&&L(i.isLoading?0:i.films.length>0?1:2)},dependencies:[U,rt,lt,ot,nt,it],styles:["[_nghost-%COMP%]{display:block;width:100%}.skeleton-card[_ngcontent-%COMP%]{aspect-ratio:2 / 3}.skeleton-title[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.film-list-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}tui-pagination[_ngcontent-%COMP%]     .t-button{inline-size:auto;min-width:var(--tui-height-s)}.film-card[_ngcontent-%COMP%]{width:140px}@media screen and (max-width: 47.9625em){.film-card[_ngcontent-%COMP%]{--count: 3;width:calc((100% - (16px * (var(--count) - 1))) / var(--count))}}.empty-block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}"],changeDetection:0})}return e})();export{st as a,le as b};
