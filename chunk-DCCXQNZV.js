import{a as Te}from"./chunk-R3CB46PS.js";import{a as N}from"./chunk-G6FV2QOT.js";import{a as He,c as Ye,d as et,e as tt}from"./chunk-C4QY7PVW.js";import{I as Ne,J as Ue,Ta as We,Ua as Ge,Va as Ze,Wa as qe,Xa as Xe,Ya as Je,Za as oe,_a as Qe,ca as ie,ga as Ve,k as Le,oa as je,ra as Ke,sa as ne,z as $e}from"./chunk-WRLF2H3U.js";import{Ea as he,Ec as Ce,Fa as _e,Ga as R,Ha as G,Ia as c,Ja as L,Ka as Z,Kb as X,La as A,Lb as Me,Ma as be,Mb as y,Na as O,O as me,Oa as E,Pa as l,Pd as we,Qa as s,Ra as f,Sc as ze,Uc as Be,Ud as Oe,V as pe,Va as V,Wb as J,Wd as Ee,Xb as ke,Ya as C,Z as g,Za as v,a as T,b as Y,ca as _,cc as De,ea as de,fa as W,fb as p,fc as Q,gb as j,ha as I,hb as P,hd as Fe,ia as w,ib as Se,ic as ee,j as se,jd as Ae,k as le,ka as ge,kc as Re,kd as Ie,mb as k,mc as te,nb as z,ob as M,oc as Pe,pb as $,q as F,qb as b,rb as q,tb as ae,ua as fe,ub as d,uc as H,vb as S,wa as ve,wb as D,wc as ye,x as ue,xa as r,xb as xe,z as ce}from"./chunk-JOLOG3TI.js";var gt={appearance:"",size:"l"},it=H(gt);var ft=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=_({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-badge"],standalone:!0,features:[b],decls:0,vars:0,template:function(a,o){},styles:[`tui-badge,[tuiBadge]{--t-icon-size: 1rem;--t-padding: 0 .5rem;--t-size: var(--tui-height-xs);--t-margin: -.25rem;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, var(--t-0, 0rem)) - 2 * var(--t-margin, 0rem));border-radius:6rem;background:#959595;color:var(--tui-background-base);padding:var(--t-padding);block-size:var(--t-size);min-inline-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;font:var(--tui-font-text-s)}tui-badge>img,[tuiBadge]>img,tui-badge>tui-svg,[tuiBadge]>tui-svg,tui-badge>tui-icon,[tuiBadge]>tui-icon,tui-badge>tui-avatar,[tuiBadge]>tui-avatar,tui-badge>tui-badge,[tuiBadge]>tui-badge,tui-badge>[tuiBadge],[tuiBadge]>[tuiBadge],tui-badge>[tuiRadio],[tuiBadge]>[tuiRadio],tui-badge>[tuiSwitch],[tuiBadge]>[tuiSwitch],tui-badge>[tuiCheckbox],[tuiBadge]>[tuiCheckbox],tui-badge[tuiIcons]:before,[tuiBadge][tuiIcons]:before,tui-badge[tuiIcons]:after,[tuiBadge][tuiIcons]:after{margin:var(--t-margin)}tui-badge[tuiStatus]:before,[tuiBadge][tuiStatus]:before{inline-size:.375rem;block-size:.375rem;margin-inline-end:-.25rem}tui-badge>tui-icon,[tuiBadge]>tui-icon,tui-badge[tuiIcons]:before,[tuiBadge][tuiIcons]:before,tui-badge[tuiIcons]:after,[tuiBadge][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-badge[data-appearance=error],[tuiBadge][data-appearance=error],tui-badge[data-appearance=negative],[tuiBadge][data-appearance=negative]{--t-status: var(--tui-status-negative)}tui-badge[data-appearance=success],[tuiBadge][data-appearance=success],tui-badge[data-appearance=positive],[tuiBadge][data-appearance=positive]{--t-status: var(--tui-status-positive)}tui-badge[data-appearance=warning],[tuiBadge][data-appearance=warning]{--t-status: var(--tui-status-warning)}tui-badge[data-appearance=info],[tuiBadge][data-appearance=info]{--t-status: var(--tui-status-info)}tui-badge[data-appearance=neutral],[tuiBadge][data-appearance=neutral]{--t-status: var(--tui-status-neutral)}tui-badge[tuiStatus][data-appearance=error]:before,[tuiBadge][tuiStatus][data-appearance=error]:before,tui-badge[tuiStatus][data-appearance=success]:before,[tuiBadge][tuiStatus][data-appearance=success]:before,tui-badge[tuiStatus][data-appearance=negative]:before,[tuiBadge][tuiStatus][data-appearance=negative]:before,tui-badge[tuiStatus][data-appearance=positive]:before,[tuiBadge][tuiStatus][data-appearance=positive]:before,tui-badge[tuiStatus][data-appearance=warning]:before,[tuiBadge][tuiStatus][data-appearance=warning]:before,tui-badge[tuiStatus][data-appearance=info]:before,[tuiBadge][tuiStatus][data-appearance=info]:before,tui-badge[tuiStatus][data-appearance=neutral]:before,[tuiBadge][tuiStatus][data-appearance=neutral]:before{content:"";display:block;margin:0}tui-badge[data-size=s],[tuiBadge][data-size=s]{--t-padding: 0 .3125rem;--t-size: 1rem;--t-icon-size: .625rem;--t-margin: -.125rem;font:var(--tui-font-text-xs)}tui-badge[data-size=s][tuiStatus]:before,[tuiBadge][data-size=s][tuiStatus]:before{inline-size:.25rem;block-size:.25rem;margin-inline-end:-.125rem}tui-badge[data-size=m],[tuiBadge][data-size=m]{--t-padding: 0 .375rem;--t-size: 1.25rem;--t-icon-size: .75rem;--t-margin: -.125rem}tui-badge[data-size=xl],[tuiBadge][data-size=xl]{--t-margin: -.25rem;--t-padding: 0 .75rem;--t-size: var(--tui-height-s);font:var(--tui-font-text-m)}tui-badge[data-size=xl][tuiStatus]:before,[tuiBadge][data-size=xl][tuiStatus]:before{inline-size:.5rem;block-size:.5rem;margin-inline-end:-.125rem}tui-badge[tuiAppearance][data-appearance=error],[tuiBadge][tuiAppearance][data-appearance=error],tui-badge[tuiAppearance][data-appearance=success],[tuiBadge][tuiAppearance][data-appearance=success],tui-badge[tuiAppearance][data-appearance=negative],[tuiBadge][tuiAppearance][data-appearance=negative],tui-badge[tuiAppearance][data-appearance=positive],[tuiBadge][tuiAppearance][data-appearance=positive],tui-badge[tuiAppearance][data-appearance=warning],[tuiBadge][tuiAppearance][data-appearance=warning],tui-badge[tuiAppearance][data-appearance=info],[tuiBadge][tuiAppearance][data-appearance=info],tui-badge[tuiAppearance][data-appearance=neutral],[tuiBadge][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}img[tuiBadge]{padding:0;inline-size:var(--t-size)}tui-icon[tuiBadge]{--t-margin: 0 !important;-webkit-mask:none;mask:none;block-size:var(--t-size);inline-size:var(--t-size)}tui-icon[tuiBadge][data-size=s]:after{-webkit-mask-size:.625rem;mask-size:.625rem}tui-icon[tuiBadge][data-size=m]:after{-webkit-mask-size:.75rem;mask-size:.75rem}tui-icon[tuiBadge][data-size=l]:after,tui-icon[tuiBadge][data-size=xl]:after{-webkit-mask-size:1rem;mask-size:1rem}
`],encapsulation:2,changeDetection:0})}}return e})(),at=(()=>{class e{constructor(){this.nothing=Ce(ft),this.size=g(it).size}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275dir=de({type:e,selectors:[["tui-badge"],["","tuiBadge",""]],hostVars:1,hostBindings:function(a,o){a&2&&G("data-size",o.size)},inputs:{size:"size"},standalone:!0,features:[$([ze(it)]),_e([Be,Oe])]})}}return e})();var ht=()=>({standalone:!0}),ot=(e,u)=>({$implicit:e,value:u});function _t(e,u){if(e&1&&f(0,"tui-icon",6),e&2){let n=u.polymorpheusOutlet,a=v().$implicit,o=v();L("--t-cut",100-o.getCut(a),"%"),Z("t-icon_fraction",o.isFraction(a)),c("icon",n.toString())}}function bt(e,u){if(e&1&&f(0,"tui-icon",7),e&2){let n=u.polymorpheusOutlet,a=v().$implicit,o=v();L("--t-cut",o.getCut(a),"%"),c("icon",n.toString())}}function St(e,u){if(e&1){let n=V();l(0,"div",3),C("pointerup",function(){let o=I(n).$implicit,m=v();return w(m.onClick(m.max-o))}),R(1,_t,1,5,"tui-icon",4)(2,bt,1,3,"tui-icon",5),s()}if(e&2){let n=u.$implicit,a=v();Z("t-item_active",a.isActive(n)),r(),c("polymorpheusOutlet",a.icon)("polymorpheusOutletContext",ae(6,ot,a.max-n,a.value())),r(),c("polymorpheusOutlet",a.icon)("polymorpheusOutletContext",ae(9,ot,a.max-n,a.value()))}}var xt={icon:"@tui.star",max:5},Mt=H(xt);var rt=(()=>{class e extends Ue{constructor(){super(...arguments),this.options=g(Mt),this.active=0,this.icon=this.options.icon,this.max=this.options.max}onKeyDown(n){this.readOnly()&&n.preventDefault()}onPointer(n){this.active=Pe(this.active+n,0,1)}onClick(n){this.active&&this.onChange(n)}isActive(n){return Math.ceil(this.value())>=this.max-n}isFraction(n){return this.value()>this.max-n-1&&this.value()<this.max-n}getCut(n){return this.isFraction(n)?100*Math.max(this.max-n-this.value(),0):0}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=ge(e)))(o||e)}})()}static{this.\u0275cmp=_({type:e,selectors:[["tui-rating"]],hostVars:6,hostBindings:function(a,o){a&1&&C("keydown.capture",function(h){return o.onKeyDown(h)})("pointerdown",function(){return o.onPointer(1)})("pointercancel",function(){return o.onPointer(-1)})("pointerup",function(){return o.onPointer(-1)},!1,ve),a&2&&Z("_disabled",o.disabled())("_readonly",o.readOnly())("_active",o.active)},inputs:{icon:"icon",max:"max"},standalone:!0,features:[$([$e(0)]),he,b],decls:3,vars:7,consts:[["min","1","type","range",1,"t-range",3,"blur","ngModelChange","disabled","max","ngModel","ngModelOptions"],[1,"t-items"],["class","t-item",3,"t-item_active","pointerup",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-item",3,"pointerup"],["class","t-icon t-icon_blank",3,"t-icon_fraction","icon","--t-cut",4,"polymorpheusOutlet","polymorpheusOutletContext"],["class","t-icon",3,"icon","--t-cut",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-icon","t-icon_blank",3,"icon"],[1,"t-icon",3,"icon"]],template:function(a,o){a&1&&(l(0,"input",0),C("blur",function(){return o.onTouched()})("ngModelChange",function(h){return o.onChange(h)}),s(),l(1,"div",1),R(2,St,3,12,"div",2),s()),a&2&&(c("disabled",o.disabled())("max",o.max)("ngModel",o.value())("ngModelOptions",q(6,ht)),G("aria-disabled",o.readOnly()),r(2),c("tuiRepeatTimesOf",o.max))},dependencies:[y,te,De,Re,Q,ee,Le,ie,He],styles:["[_nghost-%COMP%]{position:relative;display:block;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;min-inline-size:-webkit-fit-content;min-inline-size:-moz-fit-content;min-inline-size:fit-content;font-size:1rem;color:var(--tui-chart-categorical-12);cursor:pointer;-webkit-user-select:none;user-select:none}._readonly[_nghost-%COMP%]{pointer-events:none}._disabled[_nghost-%COMP%]{pointer-events:none;opacity:var(--tui-disabled-opacity)}.t-range[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;opacity:0;box-sizing:border-box;padding:0 .75em;pointer-events:none}.t-range[_ngcontent-%COMP%]:focus-visible + .t-items[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 .125rem var(--tui-border-focus)}.t-items[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row-reverse}.t-items[_ngcontent-%COMP%]:hover   .t-icon[_ngcontent-%COMP%]{clip-path:inset(0 0 0 0)}.t-items[_ngcontent-%COMP%]:hover   .t-icon_blank[_ngcontent-%COMP%]{clip-path:inset(0 0 0 100%)}.t-item[_ngcontent-%COMP%]{position:relative;flex:1 0 0;color:var(--tui-text-tertiary);transition-property:color,transform;transition-duration:var(--tui-duration);transition-timing-function:ease-in-out,cubic-bezier(.35,1.5,.4,2.5)}.t-item[_ngcontent-%COMP%]:first-child{max-inline-size:2.5em}.t-item[_ngcontent-%COMP%]:hover, .t-item[_ngcontent-%COMP%]:hover ~ .t-item[_ngcontent-%COMP%], .t-items[_ngcontent-%COMP%]:not(:hover)   .t-item_active[_ngcontent-%COMP%]{color:currentColor}.t-items[_ngcontent-%COMP%]:active   .t-item[_ngcontent-%COMP%]:hover, .t-items[_ngcontent-%COMP%]:active   .t-item[_ngcontent-%COMP%]:hover ~ .t-item[_ngcontent-%COMP%]{transform:scale(.85);transition-duration:var(--tui-duration),calc(var(--tui-duration) / 3);transition-timing-function:ease-in-out}.t-icon[_ngcontent-%COMP%]{transition-property:clip-path;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:2.5em;block-size:2.5em;font-size:inherit;clip-path:inset(0 var(--t-cut) 0 0)}.t-icon[_ngcontent-%COMP%]    >*{font-size:1rem}.t-icon_blank[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:none;color:var(--tui-text-tertiary);clip-path:inset(0 0 0 var(--t-cut))}.t-icon_fraction[_ngcontent-%COMP%]{display:block}@media (any-pointer: coarse){._active[_nghost-%COMP%]   .t-item_active[_ngcontent-%COMP%]{transform:scale(.85);transition-timing-function:ease-in-out}[_nghost-%COMP%]:not(._readonly)   .t-range[_ngcontent-%COMP%]{pointer-events:auto}.t-icon[_ngcontent-%COMP%]{transition:none}}"],changeDetection:0})}}return e})();var K=(()=>{class e{tmdbApiService=g(Ke);authorizationService=g(ne);destroy$=new se;state$=new le(Xe());film$=this.state$.pipe(F(n=>n.value));isLoading$=this.state$.pipe(F(n=>n.status===Ge.Loading));ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadFilm(n){this.state$.next(Je()),this.tmdbApiService.getFilm(n,this.authorizationService.getSessionId()??"").pipe(ce(a=>(this.state$.next(Qe(a)),ue)),me(this.destroy$)).subscribe(a=>{this.state$.next(oe(a))})}changeFavoriteFilm(n,a,o){this.tmdbApiService.changeFavoriteFilm(n,a,o,this.authorizationService.getSessionId()??"").subscribe(()=>{this.updateAccountStates({favorite:o})})}changeWatchlistFilm(n,a,o){this.tmdbApiService.changeWatchListFilm(n,a,o,this.authorizationService.getSessionId()??"").subscribe(()=>{this.updateAccountStates({watchlist:o})})}changeFilmRate(n,a){this.tmdbApiService.changeFilmRate(n,a,this.authorizationService.getSessionId()??"").subscribe(()=>{this.updateAccountStates({watchlist:!1,rated:{value:n}})})}deleteFilmRate(n){this.tmdbApiService.deleteFilmRate(n,this.authorizationService.getSessionId()??"").subscribe(()=>{this.updateAccountStates({rated:!1})})}updateAccountStates(n){let a=this.state$.value.value,o=Y(T({},a),{account_states:T(T({},a?.account_states??{}),n)});this.state$.next(oe(o))}static \u0275fac=function(a){return new(a||e)};static \u0275prov=pe({token:e,factory:e.\u0275fac})}return e})();function kt(e,u){if(e&1){let n=V();l(0,"button",6),C("click",function(){I(n);let o=v();return w(o.deleteFilmRate(o.film.id))}),f(1,"tui-icon",7),s()}}var st=(()=>{class e{filmService=g(K);film;account;toggleFavorite(n,a,o){this.filmService.changeFavoriteFilm(n,a,o)}toggleWatchlist(n,a,o){this.filmService.changeWatchlistFilm(n,a,o)}changeFilmRate(n,a){this.filmService.changeFilmRate(n,a)}deleteFilmRate(n){this.filmService.deleteFilmRate(n)}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=_({type:e,selectors:[["app-film-actions"]],inputs:{film:"film",account:"account"},standalone:!0,features:[b],decls:12,vars:12,consts:[[1,"rating-wrapper"],[1,"rating",3,"ngModelChange","max","ngModel"],["tuiButton","","appearance","neutral","tuiHintAppearance","dark","tuiHintDirection","bottom","tuiHint","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043E\u0446\u0435\u043D\u043A\u0443",1,"icon-button","tui-space_left-2"],["tuiButton","","appearance","neutral","tuiHintAppearance","dark","tuiHintDirection","bottom","tuiHint","\u0411\u0443\u0434\u0443 \u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C",1,"icon-button","tui-space_right-2",3,"click"],[3,"icon"],["tuiButton","","appearance","neutral","tuiHintAppearance","dark","tuiHintDirection","bottom",1,"icon-button",3,"click","tuiHint"],["tuiButton","","appearance","neutral","tuiHintAppearance","dark","tuiHintDirection","bottom","tuiHint","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043E\u0446\u0435\u043D\u043A\u0443",1,"icon-button","tui-space_left-2",3,"click"],["icon","@tui.trash"]],template:function(a,o){if(a&1){let m=V();k(0)(1)(2)(3),l(4,"div",0)(5,"tui-rating",1),C("ngModelChange",function(x){return I(m),w(o.changeFilmRate(x,o.film.id))}),s(),R(6,kt,2,0,"button",2),s(),l(7,"div")(8,"button",3),C("click",function(){I(m);let x=M(1);return w(o.toggleWatchlist(o.account.id,o.film.id,!x))}),f(9,"tui-icon",4),s(),l(10,"button",5),C("click",function(){I(m);let x=M(0);return w(o.toggleFavorite(o.account.id,o.film.id,!x))}),f(11,"tui-icon",4),s()()}if(a&2){let m=z(o.film.account_states==null?null:o.film.account_states.favorite);r();let h=z(o.film.account_states==null?null:o.film.account_states.watchlist),x=o.film.account_states==null?null:o.film.account_states.rated,U=x?x.value:0;r(4),c("max",10)("ngModel",U),r(),A(U?6:-1),r(3),L("color",h?"red":"inherit"),c("icon",h?"@tui.bookmark-check":"@tui.bookmark"),r(),c("tuiHint",m?"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435"),r(),L("color",m?"red":"inherit"),c("icon",m?"@tui.heart-filled":"@tui.heart")}},dependencies:[y,Ee,ie,Ve,te,Q,ee,rt],styles:["[_nghost-%COMP%]{display:block}.rating-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 47.9625em){.rating-wrapper[_ngcontent-%COMP%]{flex-direction:column}}.rating[_ngcontent-%COMP%]{fill:currentColor;font-size:1rem;inline-size:25rem}@media screen and (max-width: 47.9625em){.rating[_ngcontent-%COMP%]{font-size:.85rem;inline-size:20rem}}.icon-button[_ngcontent-%COMP%]{border-radius:40px}"],changeDetection:0})}return e})();var Dt=(e,u)=>u.id,Rt=()=>["\u0430\u043A\u0442\u0435\u0440","\u0430\u043A\u0442\u0435\u0440\u0430","\u0430\u043A\u0442\u0435\u0440\u043E\u0432"];function Pt(e,u){if(e&1&&(l(0,"div",3),p(1),s(),l(2,"div",4),p(3),s()),e&2){let n=u.$implicit;r(),j(n.name),r(2),j(n.character)}}var lt=(()=>{class e{actors;pluralize=qe;getTop10(n){return n.slice(0,10)}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=_({type:e,selectors:[["app-film-actors"]],inputs:{actors:"actors"},standalone:!0,features:[b],decls:9,vars:10,consts:[[1,"tui-text_h6","tui-space_bottom-4","tui-space_top-1"],[1,"film-cast"],[1,"tui-space_top-2","tui-text_body-s","actors-count"],[1,"tui-space_top-1","actor-name"],[1,"actor-character"]],template:function(a,o){a&1&&(l(0,"div",0),p(1,"\u0410\u043A\u0442\u0451\u0440\u044B:"),s(),l(2,"div",1),O(3,Pt,4,2,null,null,Dt),d(5,"tuiMapper"),s(),l(6,"a",2),p(7),d(8,"tuiMapper"),s()),a&2&&(r(3),E(D(5,2,o.actors,o.getTop10)),r(4),Se(" \u0412\u0441\u0435\u0433\u043E ",o.actors.length," ",xe(8,5,o.actors.length,o.pluralize,q(9,Rt)),`
`))},dependencies:[N],styles:["[_nghost-%COMP%]{display:block}@media screen and (max-width: 47.9625em){[_nghost-%COMP%]{text-align:center}}@media screen and (max-width: 47.9625em){.film-cast[_ngcontent-%COMP%]{display:flex;gap:2px;flex-wrap:wrap;align-items:baseline;justify-content:center;margin:0 4px}}.actor-name[_ngcontent-%COMP%]{font:var(--tui-font-text-ui-s)}.actor-character[_ngcontent-%COMP%]{font:var(--tui-font-text-ui-xs);color:var(--tui-text-tertiary);margin-bottom:4px}@media screen and (max-width: 47.9625em){.actor-character[_ngcontent-%COMP%]{margin:0 4px}}.actors-count[_ngcontent-%COMP%]{color:var(--tui-text-secondary)}"],changeDetection:0})}return e})();var t=function(e){return e.ArmenianDram="AMD",e.AustralianDollar="AUD",e.AzerbaijaniManat="AZN",e.Baht="THB",e.BahrainiDinar="BHD",e.BelarusianRuble="BYN",e.BrazilianReal="BRL",e.CanadianDollar="CAD",e.CzechKoruna="CZK",e.Dirham="AED",e.Dollar="USD",e.EastCaribbeanDollar="XCD",e.Euro="EUR",e.Forint="HUF",e.GeorgianLari="GEL",e.HongKongDollar="HKD",e.Hryvnia="UAH",e.IndianRupee="INR",e.IndonesianRupiah="IDR",e.IranianRial="IRR",e.IsraeliShekel="ILS",e.KyrgyzstanSom="KGS",e.MalaysianRinggit="MYR",e.MexicanPeso="MXN",e.MoldovanLeu="MDL",e.MongolianTugrik="MNT",e.NewTurkmenManat="TMT",e.PolandZloty="PLN",e.Pound="GBP",e.Ruble="RUB",e.SaudiRiyal="SAR",e.SerbianDinar="RSD",e.SingaporeDollar="SGD",e.SouthAfricanRand="ZAR",e.SriLankanRupee="LKR",e.SwissFranc="CHF",e.TajikistaniSomoni="TJS",e.Tenge="KZT",e.TurkishLira="TRY",e.UzbekSum="UZS",e.VietnameseDong="VND",e.Won="KRW",e.Yen="JPY",e.YuanRenminbi="CNY",e}(t||{}),i=function(e){return e.ArmenianDram="051",e.AustralianDollar="036",e.AzerbaijaniManat="944",e.Baht="764",e.BahrainiDinar="048",e.BelarusianRuble="933",e.BrazilianReal="986",e.CanadianDollar="124",e.CzechKoruna="203",e.Dirham="784",e.Dollar="840",e.EastCaribbeanDollar="951",e.Euro="978",e.Forint="348",e.GeorgianLari="981",e.HongKongDollar="344",e.Hryvnia="980",e.IndianRupee="356",e.IndonesianRupiah="360",e.IranianRial="364",e.IsraeliShekel="376",e.KyrgyzstanSom="417",e.MalaysianRinggit="458",e.MexicanPeso="484",e.MoldovanLeu="498",e.MongolianTugrik="496",e.NewTurkmenManat="934",e.PolandZloty="985",e.Pound="826",e.Ruble="643",e.SaudiRiyal="682",e.SerbianDinar="941",e.SingaporeDollar="702",e.SouthAfricanRand="710",e.SriLankanRupee="144",e.SwissFranc="756",e.TajikistaniSomoni="972",e.Tenge="398",e.TurkishLira="949",e.UzbekSum="860",e.VietnameseDong="704",e.Won="410",e.Yen="392",e.YuanRenminbi="156",e}(i||{});function yt(e){switch(e){case t.ArmenianDram:case i.ArmenianDram:return"\u058F";case t.AustralianDollar:case i.AustralianDollar:return"A$";case t.AzerbaijaniManat:case i.AzerbaijaniManat:return"\u20BC";case t.BahrainiDinar:case i.BahrainiDinar:return"BD";case t.Baht:case i.Baht:return"\u0E3F";case t.BelarusianRuble:case i.BelarusianRuble:return"Br";case t.BrazilianReal:case i.BrazilianReal:return"R$";case t.CanadianDollar:case i.CanadianDollar:return"C$";case t.CzechKoruna:case i.CzechKoruna:return"K\u010D";case t.Dirham:case i.Dirham:return"Dh";case t.Dollar:case t.MexicanPeso:case i.Dollar:case i.MexicanPeso:return"$";case t.EastCaribbeanDollar:case i.EastCaribbeanDollar:return"EC$";case t.Euro:case i.Euro:return"\u20AC";case t.Forint:case i.Forint:return"Ft";case t.GeorgianLari:case i.GeorgianLari:return"\u20BE";case t.HongKongDollar:case i.HongKongDollar:return"HK$";case t.Hryvnia:case i.Hryvnia:return"\u20B4";case t.IndianRupee:case i.IndianRupee:return"\u20B9";case t.IndonesianRupiah:case i.IndonesianRupiah:return"Rp";case t.IranianRial:case i.IranianRial:return"IR";case t.IsraeliShekel:case i.IsraeliShekel:return"\u20AA";case t.KyrgyzstanSom:case i.KyrgyzstanSom:return"c";case t.MalaysianRinggit:case i.MalaysianRinggit:return"RM";case t.MoldovanLeu:case i.MoldovanLeu:return"L";case t.MongolianTugrik:case i.MongolianTugrik:return"\u20AE";case t.NewTurkmenManat:case i.NewTurkmenManat:return"TMT";case t.PolandZloty:case i.PolandZloty:return"z\u0142";case t.Pound:case i.Pound:return"\xA3";case t.Ruble:case i.Ruble:return"\u20BD";case t.SaudiRiyal:case i.SaudiRiyal:return"SR";case t.SerbianDinar:case i.SerbianDinar:return"DIN";case t.SingaporeDollar:case i.SingaporeDollar:return"S$";case t.SouthAfricanRand:case i.SouthAfricanRand:return"R";case t.SriLankanRupee:case i.SriLankanRupee:return"Rs.";case t.SwissFranc:case i.SwissFranc:return"\u20A3";case t.TajikistaniSomoni:case i.TajikistaniSomoni:return"SM";case t.Tenge:case i.Tenge:return"\u20B8";case t.TurkishLira:case i.TurkishLira:return"\u20BA";case t.UzbekSum:case i.UzbekSum:return"So'm";case t.VietnameseDong:case i.VietnameseDong:return"\u0111";case t.Won:case i.Won:return"\u20A9";case t.Yen:case i.Yen:return"\xA5";case t.YuanRenminbi:case i.YuanRenminbi:return"CN\xA5";default:return null}}function Ct(e){return e===null||ye(e)?e||"":String(e).padStart(3,"0")}function ut(e){let u=Ct(e);return yt(u)||u}var Ki={[t.Ruble]:i.Ruble,[t.Dollar]:i.Dollar,[t.MexicanPeso]:i.MexicanPeso,[t.MoldovanLeu]:i.MoldovanLeu,[t.PolandZloty]:i.PolandZloty,[t.SingaporeDollar]:i.SingaporeDollar,[t.AustralianDollar]:i.AustralianDollar,[t.HongKongDollar]:i.HongKongDollar,[t.CanadianDollar]:i.CanadianDollar,[t.CzechKoruna]:i.CzechKoruna,[t.EastCaribbeanDollar]:i.EastCaribbeanDollar,[t.Euro]:i.Euro,[t.Forint]:i.Forint,[t.Pound]:i.Pound,[t.Baht]:i.Baht,[t.BahrainiDinar]:i.BahrainiDinar,[t.TurkishLira]:i.TurkishLira,[t.YuanRenminbi]:i.YuanRenminbi,[t.Yen]:i.Yen,[t.IsraeliShekel]:i.IsraeliShekel,[t.IndianRupee]:i.IndianRupee,[t.SwissFranc]:i.SwissFranc,[t.ArmenianDram]:i.ArmenianDram,[t.Won]:i.Won,[t.Tenge]:i.Tenge,[t.Hryvnia]:i.Hryvnia,[t.UzbekSum]:i.UzbekSum,[t.KyrgyzstanSom]:i.KyrgyzstanSom,[t.Dirham]:i.Dirham,[t.TajikistaniSomoni]:i.TajikistaniSomoni,[t.MalaysianRinggit]:i.MalaysianRinggit,[t.BelarusianRuble]:i.BelarusianRuble,[t.GeorgianLari]:i.GeorgianLari,[t.AzerbaijaniManat]:i.AzerbaijaniManat,[t.SriLankanRupee]:i.SriLankanRupee,[t.SerbianDinar]:i.SerbianDinar,[t.SaudiRiyal]:i.SaudiRiyal,[t.MongolianTugrik]:i.MongolianTugrik,[t.SouthAfricanRand]:i.SouthAfricanRand,[t.IranianRial]:i.IranianRial,[t.IndonesianRupiah]:i.IndonesianRupiah,[t.VietnameseDong]:i.VietnameseDong,[t.NewTurkmenManat]:i.NewTurkmenManat,[t.BrazilianReal]:i.BrazilianReal};var Yi={[i.Ruble]:t.Ruble,[i.Dollar]:t.Dollar,[i.MexicanPeso]:t.MexicanPeso,[i.MoldovanLeu]:t.MoldovanLeu,[i.PolandZloty]:t.PolandZloty,[i.SingaporeDollar]:t.SingaporeDollar,[i.AustralianDollar]:t.AustralianDollar,[i.HongKongDollar]:t.HongKongDollar,[i.CanadianDollar]:t.CanadianDollar,[i.CzechKoruna]:t.CzechKoruna,[i.EastCaribbeanDollar]:t.EastCaribbeanDollar,[i.Euro]:t.Euro,[i.Forint]:t.Forint,[i.Pound]:t.Pound,[i.Baht]:t.Baht,[i.BahrainiDinar]:t.BahrainiDinar,[i.TurkishLira]:t.TurkishLira,[i.YuanRenminbi]:t.YuanRenminbi,[i.Yen]:t.Yen,[i.IsraeliShekel]:t.IsraeliShekel,[i.IndianRupee]:t.IndianRupee,[i.SwissFranc]:t.SwissFranc,[i.ArmenianDram]:t.ArmenianDram,[i.Won]:t.Won,[i.Tenge]:t.Tenge,[i.Hryvnia]:t.Hryvnia,[i.UzbekSum]:t.UzbekSum,[i.KyrgyzstanSom]:t.KyrgyzstanSom,[i.Dirham]:t.Dirham,[i.TajikistaniSomoni]:t.TajikistaniSomoni,[i.MalaysianRinggit]:t.MalaysianRinggit,[i.BelarusianRuble]:t.BelarusianRuble,[i.GeorgianLari]:t.GeorgianLari,[i.AzerbaijaniManat]:t.AzerbaijaniManat,[i.SriLankanRupee]:t.SriLankanRupee,[i.SerbianDinar]:t.SerbianDinar,[i.SaudiRiyal]:t.SaudiRiyal,[i.MongolianTugrik]:t.MongolianTugrik,[i.SouthAfricanRand]:t.SouthAfricanRand,[i.IranianRial]:t.IranianRial,[i.IndonesianRupiah]:t.IndonesianRupiah,[i.VietnameseDong]:t.VietnameseDong,[i.NewTurkmenManat]:t.NewTurkmenManat,[i.BrazilianReal]:t.BrazilianReal};var zt={currency:null,currencyAlign:"left",sign:"negative-only"},Bt=H(zt);function Ft(e,u){return u==="never"||!e||u==="negative-only"&&e>0?"":u==="force-negative"||e<0&&u!=="force-positive"?Ae:Ie}var At=2,ct=(()=>{class e{constructor(){this.options=g(Bt),this.format=g(we)}transform(n,a=this.options.currency,o=this.options.currencyAlign){return this.format.pipe(F(m=>{let h=Ft(n,this.options.sign),x=ut(a),U=Te(Math.abs(n),Y(T({},m),{precision:Number.isNaN(m.precision)?At:m.precision})),re=x&&(x?.length>1||o==="right")?Fe:"";return o==="right"?`${h}${U}${re}${x}`:`${h}${x}${re}${U}`}))}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275pipe=W({name:"tuiAmount",type:e,pure:!0,standalone:!0})}}return e})();var wt=(e,u)=>u.id;function Ot(e,u){if(e&1&&(l(0,"tui-badge",6),p(1),s()),e&2){let n=u.$implicit;r(),P(" ",n.name," ")}}var mt=(()=>{class e{film;getCountries=n=>n.map(a=>a.name).join(", ");getFixedAverageVote=n=>n.vote_average.toFixed(1);getFixedRuntime=n=>Ze(n.runtime);getDirectorName(n){return n.credits.crew.find(o=>o.job==="Director")?.name??""}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=_({type:e,selectors:[["app-film-info"]],inputs:{film:"film"},standalone:!0,features:[b],decls:53,vars:31,consts:[[1,"film-info-wrapper"],[1,"tui-text_h4","film-title"],[1,"film-info-item","tui-space_top-4"],[1,"film-info-title"],[1,"film-info-value"],[1,"film-info-item"],["size","s",1,"tui-space_right-1"]],template:function(a,o){a&1&&(l(0,"div",0)(1,"div",1),p(2),s(),l(3,"div",2)(4,"div",3),p(5,"\u0421\u0442\u0440\u0430\u043D\u0430:"),s(),l(6,"div",4),p(7),d(8,"tuiMapper"),s()(),l(9,"div",5)(10,"div",3),p(11,"\u0416\u0430\u043D\u0440\u044B:"),s(),l(12,"div",4),O(13,Ot,2,1,"tui-badge",6,wt),s()(),l(15,"div",5)(16,"div",3),p(17,"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440:"),s(),l(18,"div",4),p(19),d(20,"tuiMapper"),s()(),l(21,"div",5)(22,"div",3),p(23,"\u0413\u043E\u0434 \u043F\u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0441\u0442\u0432\u0430:"),s(),l(24,"div",4),p(25),d(26,"date"),s()(),l(27,"div",5)(28,"div",3),p(29,"\u041E\u0446\u0435\u043D\u043A\u0438:"),s(),l(30,"div",4),p(31),d(32,"tuiMapper"),s()(),l(33,"div",5)(34,"div",3),p(35,"\u0411\u044E\u0434\u0436\u0435\u0442:"),s(),l(36,"div",4),p(37),d(38,"tuiAmount"),d(39,"async"),s()(),l(40,"div",5)(41,"div",3),p(42,"\u0414\u043E\u0445\u043E\u0434:"),s(),l(43,"div",4),p(44),d(45,"tuiAmount"),d(46,"async"),s()(),l(47,"div",5)(48,"div",3),p(49,"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C:"),s(),l(50,"div",4),p(51),d(52,"tuiMapper"),s()()()),a&2&&(r(2),P(" ",o.film.title," "),r(5),P(" ",D(8,8,o.film.production_countries,o.getCountries)," "),r(6),E(o.film.genres),r(6),P(" ",D(20,11,o.film,o.getDirectorName)," "),r(6),P(" ",D(26,14,o.film.release_date,"dd.MM.YYYY")," "),r(6),P(" ",D(32,17,o.film,o.getFixedAverageVote)," "),r(6),P(" $",S(39,22,S(38,20,o.film.budget))," "),r(7),P(" $",S(46,26,S(45,24,o.film.revenue))," "),r(7),P(" ",D(52,28,o.film,o.getFixedRuntime)," "))},dependencies:[y,X,Me,at,N,ct],styles:["[_nghost-%COMP%]{display:block}.film-info-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (max-width: 47.9625em){.film-title[_ngcontent-%COMP%]{margin-top:20px;text-align:center}}.film-info-item[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding-block-start:8px;padding-block-end:8px;padding-inline-start:0;padding-inline-end:0}.film-info-title[_ngcontent-%COMP%]{width:160px}.film-info-value[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;flex-basis:0%}"],changeDetection:0})}return e})();var pt=(()=>{class e{domSanitizer=g(J);transform(n){return this.domSanitizer.bypassSecurityTrustResourceUrl(n)}static \u0275fac=function(a){return new(a||e)};static \u0275pipe=W({name:"sanitize",type:e,pure:!0,standalone:!0})}return e})();var dt=(()=>{class e{domSanitizer=g(J);video;static \u0275fac=function(a){return new(a||e)};static \u0275cmp=_({type:e,selectors:[["app-film-trailer"]],inputs:{video:"video"},standalone:!0,features:[b],decls:3,vars:3,consts:[["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"film-trailer",3,"src"]],template:function(a,o){if(a&1&&(k(0),f(1,"iframe",0),d(2,"sanitize")),a&2){let m="https://www.youtube.com/embed/"+o.video.key;r(),c("src",S(2,1,m),fe)}},dependencies:[y,pt],styles:["[_nghost-%COMP%]{display:block;aspect-ratio:16 / 9;flex-shrink:0}.film-trailer[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0})}return e})();var Et=(e,u)=>u.id;function Tt(e,u){if(e&1&&f(0,"app-film-actions",4),e&2){v(2);let n=M(0),a=M(6);c("film",n)("account",a)}}function Lt(e,u){if(e&1&&(l(0,"div",5),f(1,"app-film-trailer",8),s()),e&2){v();let n=M(7);r(),c("video",n)}}function $t(e,u){if(e&1&&(l(0,"div",6),p(1),s()),e&2){v(2);let n=M(0);r(),j(n.overview)}}function Ht(e,u){if(e&1&&f(0,"app-film-card",12),e&2){let n=u.$implicit;c("data",n)}}function Nt(e,u){if(e&1&&(l(0,"div",7)(1,"div",9),p(2,"\u0421\u043C\u043E\u0442\u0440\u0438\u0442\u0435 \u0442\u0430\u043A\u0436\u0435:"),s(),l(3,"div",10)(4,"app-carousel",11),d(5,"async"),O(6,Ht,1,1,"app-film-card",12,Et),s()()()),e&2){v();let n=M(11),a=v();r(4),c("gapSize",4)("countElements",S(5,2,a.visibleItemsCount$)),r(2),E(n)}}function Ut(e,u){if(e&1&&(l(0,"div",0)(1,"div"),f(2,"app-poster",1),s(),f(3,"app-film-info",2)(4,"app-film-actors",3),s(),R(5,Tt,1,2,"app-film-actions",4),l(6,"div",0),k(7),d(8,"tuiMapper"),R(9,Lt,2,1,"div",5)(10,$t,2,1,"div",6),s(),k(11),d(12,"tuiMapper"),R(13,Nt,8,4,"div",7)),e&2){let n=v(),a=M(0),o=M(6);r(2),c("alt",a.title)("path",a.poster_path),r(),c("film",a),r(),c("actors",a.credits.cast),r(),A(o?5:-1),r(2);let m=z(D(8,8,a,n.getTrailer));r(2),A(m?9:-1),r(),A(a.overview?10:-1),r();let h=z(D(12,12,a,n.getRecommendations));r(2),A(h.length?13:-1)}}function Vt(e,u){e&1&&(l(0,"div",21),f(1,"div",22)(2,"div",23),s()),e&2&&(r(),c("tuiSkeleton",!0))}function jt(e,u){if(e&1&&(l(0,"div",0),f(1,"div",13)(2,"div",14)(3,"div",15),s(),l(4,"div",0),f(5,"div",16)(6,"div",17),s(),f(7,"div"),l(8,"div",18),f(9,"div",19),s(),l(10,"div",20),O(11,Vt,3,1,"div",21,be),d(13,"tuiRepeatTimes"),s()),e&2){v();let n=M(4);r(),c("tuiSkeleton",!0),r(),c("tuiSkeleton",!0),r(),c("tuiSkeleton",!0),r(2),c("tuiSkeleton",!0),r(),c("tuiSkeleton",!0),r(5),E(S(13,5,n))}}var $n=(()=>{class e{filmService=g(K);authorizationService=g(ne);activatedRoute=g(ke);breakpoint$=g(Ne);visibleItemsCount$=this.breakpoint$.pipe(F(n=>n==="mobile"?3:5));account$=this.authorizationService.account$;filmId$=this.activatedRoute.paramMap.pipe(F(n=>n.get("filmId")));film$=this.filmService.film$;isLoading$=this.filmService.isLoading$;ngOnInit(){this.filmId$.subscribe(n=>{n&&this.filmService.loadFilm(n)})}getTrailer(n){return n.videos.results.find(a=>a.type==="Trailer")}getRecommendations(n){return n.recommendations.results}toggleFavorite(n,a,o){this.filmService.changeFavoriteFilm(n,a,o)}toggleWatchlist(n,a,o){this.filmService.changeWatchlistFilm(n,a,o)}changeFilmRate(n,a){this.filmService.changeFilmRate(n,a)}deleteFilmRate(n){this.filmService.deleteFilmRate(n)}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=_({type:e,selectors:[["app-film-page"]],standalone:!0,features:[$([K]),b],decls:10,vars:12,consts:[[1,"film-row"],[1,"poster",3,"alt","path"],[3,"film"],[3,"actors"],[1,"film-row",3,"film","account"],[1,"trailer-block"],[1,"synopsis"],[1,"film-row","film-row_recommendation"],[3,"video"],[1,"recommendations-title","tui-text_h6"],[1,"film-recommendations"],[3,"gapSize","countElements"],[3,"data"],[1,"poster-skeleton",3,"tuiSkeleton"],[1,"info-skeleton",3,"tuiSkeleton"],[1,"actors-skeleton",3,"tuiSkeleton"],[1,"trailer-skeleton",3,"tuiSkeleton"],[1,"synopsis-skeleton",3,"tuiSkeleton"],[1,"recommendations-title-skeleton"],["tuiSkeleton","Thistextwillbereplacedby a skeleton"],[1,"recommendation-list-skeleton"],[1,"recommendation-list-skeleton__item"],[1,"card-skeleton",3,"tuiSkeleton"],["tuiSkeleton","Thistextwillbereplacedby a skeleton",1,"title-skeleton"]],template:function(a,o){if(a&1&&(k(0),d(1,"async"),k(2),d(3,"async"),k(4),d(5,"async"),k(6),d(7,"async"),R(8,Ut,14,16)(9,jt,14,7)),a&2){let m=z(S(1,1,o.film$)),h=S(3,4,o.isLoading$);r(4),z(S(5,6,o.visibleItemsCount$)),r(2),z(S(7,9,o.account$)),r(2),A(!h&&m?8:9)}},dependencies:[y,X,mt,We,lt,dt,N,tt,je,Ye,et,st],styles:["[_nghost-%COMP%]{display:block;padding:60px 0;background-color:var(--tui-background-base-alt)}.film-row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:16px;padding:0 24px}.film-row[_ngcontent-%COMP%] + .film-row[_ngcontent-%COMP%]{margin-top:40px}.film-row_recommendation[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width: 47.9625em){.film-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;margin-left:0}}.poster[_ngcontent-%COMP%]{width:300px}.trailer-block[_ngcontent-%COMP%]{width:50%;flex-shrink:0}@media screen and (max-width: 47.9625em){.trailer-block[_ngcontent-%COMP%]{width:100%}}.synopsis[_ngcontent-%COMP%]{text-align:justify}.recommendations-title[_ngcontent-%COMP%]{width:100%;text-align:center}.film-recommendations[_ngcontent-%COMP%]{position:relative;width:100%;box-sizing:border-box}.poster-skeleton[_ngcontent-%COMP%]{width:300px;aspect-ratio:2 / 3}.info-skeleton[_ngcontent-%COMP%]{flex:1}.actors-skeleton[_ngcontent-%COMP%]{width:120px}.trailer-skeleton[_ngcontent-%COMP%]{display:block;aspect-ratio:16 / 9;width:50%;flex-shrink:0}@media screen and (max-width: 47.9625em){.trailer-skeleton[_ngcontent-%COMP%]{width:100%}}.synopsis-skeleton[_ngcontent-%COMP%]{width:50%}.recommendations-title-skeleton[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;margin-bottom:20px;font-size:30px}.card-skeleton[_ngcontent-%COMP%]{width:100%;aspect-ratio:2 / 3}.title-skeleton[_ngcontent-%COMP%]{width:100%}.recommendation-list-skeleton[_ngcontent-%COMP%]{display:flex;gap:16px;padding:0 16px;justify-content:space-between}.recommendation-list-skeleton__item[_ngcontent-%COMP%]{flex:1}"],changeDetection:0})}return e})();export{$n as FilmPageComponent};
